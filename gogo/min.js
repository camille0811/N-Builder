var doorOverlap=75,doorMidPointY=386,doorLeftX=48,creditsX=400,creditsY=380;DoorLayer=pc.Layer.extend("DoorLayer",{},{game:null,topDoorImage:null,bottomDoorImage:null,creditsImage:null,gap:0,showCredits:!1,init:function(e,t,n){this._super(t,n),this.game=e,this.topDoorImage=getImage("door_top"),this.bottomDoorImage=getImage("door_bottom"),this.creditsImage=getImage("credit_text")},draw:function(){var e=pc.device.ctx;this.showCredits&&this.creditsImage.draw(e,creditsX-this.creditsImage.width/2,creditsY-this.creditsImage.height/2);var t=doorMidPointY-this.gap-this.topDoorImage.height;this.topDoorImage.draw(e,0,0,doorLeftX,t,this.topDoorImage.width,Math.min(this.topDoorImage.height,pc.device.canvasHeight-t));var n=doorMidPointY+this.gap-doorOverlap/2;this.bottomDoorImage.draw(e,0,0,doorLeftX,n,this.bottomDoorImage.width,Math.min(this.bottomDoorImage.height,pc.device.canvasHeight-n)),e.clearRect(0,768,pc.device.canvasWidth,pc.device.canvasHeight)},process:function(){var e=!this.game.wantToCloseDoors,t=330,n=pc.device.elapsed;e?this.gap<t&&(this.gap=Math.min(t,this.gap+n*.5),this.gap>=t&&this.game.onDoorsOpened()):this.gap>0&&(this.gap=Math.max(0,this.gap-n*.5),this.gap==0&&(this.game.onDoorsClosed(),this.game.complete?this.showCredits=!0:this.showCredits=!1))}});ImageLayer=pc.Layer.extend("ImageLayer",{},{image:null,init:function(e,t,n){this._super(t,n),this.image=getImage(e)},draw:function(){this.image.draw(pc.device.ctx,0,0)}});